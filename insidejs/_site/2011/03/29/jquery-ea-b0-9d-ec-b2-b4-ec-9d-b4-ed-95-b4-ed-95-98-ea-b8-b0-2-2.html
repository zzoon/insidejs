<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>jQuery 객체 이해하기 (2)</title>
  <meta name="description" content="앞 글 말미에 언급된 jQuery객체의 constructor에 대한 의문을 풀어보도록 하자.먼저, 다음 코드를 실행시켜보자.[sourcecode language=”javascript”]function MyConstructor() {}var myobject = new MyConstr...">

  <link rel="stylesheet" href="/insidejs/css/main.css">
  <link rel="canonical" href="http://zzoon.github.io/insidejs/insidejs/2011/03/29/jquery-ea-b0-9d-ec-b2-b4-ec-9d-b4-ed-95-b4-ed-95-98-ea-b8-b0-2-2.html">
  <link rel="alternate" type="application/rss+xml" title="InsideJS" href="http://zzoon.github.io/insidejs/insidejs/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/insidejs/">InsideJS</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/insidejs/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">jQuery 객체 이해하기 (2)</h1>
    <p class="post-meta"><time datetime="2011-03-29T23:46:51+09:00" itemprop="datePublished">Mar 29, 2011</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>앞 글 말미에 언급된 jQuery객체의 constructor에 대한 의문을 풀어보도록 하자.</p>

<p>먼저, 다음 코드를 실행시켜보자.</p>

<p>[sourcecode language=”javascript”]</p>

<p>function MyConstructor() {}
var myobject = new MyConstructor();
myobject.constructor == MyConstructor;     // true
[/sourcecode]</p>

<p>위 코드의 의미를 궁금해 하는 독자는 이제 없다고 믿지만,  그래도 그림으로서 표현을 하면 다음과 같다.</p>

<p><a href="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor.png"><img class="aligncenter size-full wp-image-176" src="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor.png" alt="" width="449" height="350" /></a></p>

<p>이 상태에서 myobject의 constructor를 출력해 보면, myobject에는 constructor가 없으므로, 링크가 가리키는 MyConstructor.prototype으로 가서 그곳에 정의되어 있는 constructor를 출력하게 된다. MyConstructor.prototype.constructor가 MyConstructor이므로 myobject의 constructor 역시 MyConstructor가 되는 것이다. ( 앞글 “코드와 그림으로 이해하는 자바스크립트 객체와 프로토타입”에서 설명한 내용이지만, MyConstructor.prototype은 자동적으로 생성되며, 이 객체의 constructor는 MyConstructor로 정해진다. )</p>

<p>그렇다면, 다음의 코드는 어떠한가?</p>

<p>[sourcecode language=”javascript”]
function MyConstructor() {}
MyConstructor.prototype = {};
var myobject = new MyConstructor();</p>

<p>myobject.constructor == MyConstructor;  // false&lt;
[/sourcecode]</p>

<p>MyConstructor의 prototype이 새로운 객체 {}를 가리키도록 바꾸었다. 그리고 나서 MyConstructor를 constructor로 하는 새로운 객체를 생성하면 이 객체의 constructor는 MyConstructor가 아님을 알 수 있다. 왜 그럴까? 이 의문을 해소하고 나면,  위 jQuery 객체의 constructor가 왜 jQuery가 아닌지 알 수 있다. 위 코드와 다를 바 없기 때문이다.</p>

<p>먼저 그림을 그려보자.</p>

<p><a href="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor1.png"><img class="aligncenter size-full wp-image-177" src="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor1.png" alt="" width="513" height="350" /></a></p>

<p>위 그림에서 보듯이 MyConstructor의 prototype이 자동적으로 생성된 object가 아닌 사용자가 정의한 빈 객체 {}를 가리키게 바꾸어 놓았다.</p>

<p>그리고 이 빈 객체 {}의 constructor는 당연히 Object이다. 이 상태에서, 새로운 객체 myobject의 constructor를 출력해 보면, myobject에는 constructor 프로퍼티가 없으므로, 링크가 가리키는 MyConstructor.prototype으로 가는데, 여기에도 constructor 프로퍼티는 없으므로, 다시 링크를 타서 Object.prototype으로 가게 된다. 그리고 여기에서 정의된 constructor가 바로 myobject의 constructor가 되는 것이다.</p>

<p>이를 jQuery에 적용해 보면, 다음 그림처럼 그릴 수 있다. ( 사실 위의 그림과 다를 바 없다.)</p>
<div><a href="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor2.png"><img class="aligncenter size-full wp-image-178" src="http://nodejs-kr.org/wordpress/wp-content/uploads/2011/03/constructor2.png" alt="" width="604" height="325" /></a></div>
<div>jQuery에서도 위 예제와 같이 jQuery.fn = jQuery.prototype = { ... }; 코드를 통해  jQuery.prototype을 새롭게 정의된 객체를 가리키도록 해놓았기 때문에, 사용자가 만든 객체인 $("div")의 constructor는 결국 Object.prototype에 정의되어 있는 constructor가 되는 것이다.  ( 이후 버전업되면서 jQuery.prototype 에 "constructor : jQuery" 를 추가함으로서 $("div")의 constructor는 jQuery가 된다. )</div>
<div><span style="font-family: monospace"><span style="font-size: 17px;line-height: normal">
</span></span></div>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">InsideJS</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>InsideJS</li>
          <li><a href="mailto:zzoonis@gmail.com">zzoonis@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/zzoon"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">zzoon</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/zzoon"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">zzoon</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>이 블로그는 "http://nodejs-kr.org/insidejs" 의 블로그를 migration 하였습니다. migration 중에 깨진 이미지나 소스코드는 추후 개선 예정입니다. 양해 부탁드립니다.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
